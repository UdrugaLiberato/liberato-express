generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["latest"]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model answer {
  id          String    @id(map: "idx_16730_primary") @db.VarChar(255)
  location_id String?   @db.VarChar(255)
  answer      Int       @db.SmallInt
  created_at  DateTime  @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)
  deleted_at  DateTime? @db.Timestamptz(6)
  question_id String?   @db.VarChar(255)
  question    question? @relation(fields: [question_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dadd4a251e27f6bf")
  location    location? @relation(fields: [location_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dadd4a2564d218e")

  @@index([question_id], map: "idx_16730_idx_dadd4a251e27f6bf")
  @@index([location_id], map: "idx_16730_idx_dadd4a2564d218e")
  @@schema("latest")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model category {
  id          String     @id(map: "idx_16735_primary") @db.VarChar(255)
  name        String     @unique(map: "idx_16735_uniq_64c19c15e237e06") @db.VarChar(255)
  description String?
  created_at  DateTime   @db.Timestamptz(6)
  updated_at  DateTime?  @db.Timestamptz(6)
  deleted_at  DateTime?  @db.Timestamptz(6)
  image       image[]
  location    location[]
  question    question[]

  @@schema("latest")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model city {
  id           String     @id(map: "idx_16740_primary") @db.VarChar(255)
  name         String     @unique(map: "idx_16740_uniq_2d5b02345e237e06") @db.VarChar(255)
  latitude     Float
  longitude    Float
  created_at   DateTime   @db.Timestamptz(6)
  updated_at   DateTime?  @db.Timestamptz(6)
  deleted_at   DateTime?  @db.Timestamptz(6)
  radius_in_km Int
  location     location[]

  @@schema("latest")
}

model image {
  id          Int       @id(map: "idx_16745_primary")
  src         String    @db.VarChar(255)
  name        String    @db.VarChar(255)
  mime        String?   @db.VarChar(255)
  category_id String?   @db.VarChar(255)
  location_id String?   @db.VarChar(255)
  category    category? @relation(fields: [category_id], references: [id], onUpdate: NoAction, map: "image_ibfk_1")
  location    location? @relation(fields: [location_id], references: [id], onUpdate: NoAction, map: "image_ibfk_2")

  @@index([category_id], map: "idx_16745_category_id")
  @@index([location_id], map: "idx_16745_location_id")
  @@schema("latest")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model location {
  id          String    @id(map: "idx_16750_primary") @db.VarChar(255)
  category_id String    @db.VarChar(255)
  user_id     String?   @db.VarChar(255)
  city_id     String    @db.VarChar(255)
  name        String    @db.VarChar(255)
  street      String    @db.VarChar(255)
  phone       String?   @db.VarChar(255)
  email       String?   @db.VarChar(255)
  published   Int       @db.SmallInt
  featured    Int       @db.SmallInt
  about       String?
  latitude    Float
  longitude   Float
  created_at  DateTime  @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)
  deleted_at  DateTime? @db.Timestamptz(6)
  answer      answer[]
  image       image[]
  category    category  @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_5e9e89cb12469de2")
  city        city      @relation(fields: [city_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_5e9e89cb8bac62af")
  user        user?     @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_5e9e89cba76ed395")

  @@index([category_id], map: "idx_16750_idx_5e9e89cb12469de2")
  @@index([city_id], map: "idx_16750_idx_5e9e89cb8bac62af")
  @@index([user_id], map: "idx_16750_idx_5e9e89cba76ed395")
  @@schema("latest")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model question {
  id          String    @id(map: "idx_16755_primary") @db.VarChar(255)
  category_id String?   @db.VarChar(255)
  question    String    @db.VarChar(255)
  created_at  DateTime  @db.Timestamptz(6)
  updated_at  DateTime? @db.Timestamptz(6)
  deleted_at  DateTime? @db.Timestamptz(6)
  answer      answer[]
  category    category? @relation(fields: [category_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_b6f7494e12469de2")

  @@index([category_id], map: "idx_16755_idx_b6f7494e12469de2")
  @@schema("latest")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model user {
  id           String     @id(map: "idx_16760_primary") @db.VarChar(255)
  emailaddress String?    @unique(map: "idx_16760_uniq_8d93d649e7927c74") @db.VarChar(255)
  externalid   String?    @unique(map: "idx_16760_externalid") @db.VarChar(255)
  lastsigninat BigInt?
  lastactiveat BigInt?
  banned       Boolean?   @default(false)
  phone        String?    @db.VarChar(180)
  roles        String
  password     String     @db.VarChar(255)
  username     String     @db.VarChar(255)
  avatarurl    String?
  created_at   DateTime   @db.Timestamptz(6)
  updated_at   DateTime?  @db.Timestamptz(6)
  deleted_at   DateTime?  @db.Timestamptz(6)
  location     location[]

  @@schema("latest")
}
